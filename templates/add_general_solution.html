{% extends "base.html" %}
{% block title %}Genel Çözüm Ekle{% endblock %}
{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <h2 class="text-center mb-4 text-danger">Genel Çözüm Ekle</h2>
        <form method="POST" action="{{ url_for('faults.add_general_solution') }}" enctype="multipart/form-data">
            <div class="mb-3">
                <label for="title" class="form-label">Çözüm Başlığı</label>
                <input type="text" class="form-control" id="title" name="title" required>
            </div>
            <div class="mb-3">
                <label for="description" class="form-label">Açıklama</label>
                <textarea class="form-control" id="description" name="description" rows="5" required></textarea>
            </div>
            <div class="mb-3">
                <label for="machine_model" class="form-label">Makine Modeli</label>
                <select class="form-control" id="machine_model" name="machine_model" required>
                    <option value="" disabled selected>Model seçin</option>
                    {% for model in ['TB210R', 'TB016', 'TB215R', 'TB216', 'TB217R', 'TB225', 'TB325', 'TB235', 'TB235-2', 'TB138FR', 'TB240', 'TB240-2', 'TB250', 'TB153FR', 'TB260', 'TB260-2', 'TB285', 'TB290-2'] %}
                        <option value="{{ model }}">{{ model }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="mb-3">
                <label for="fault_type" class="form-label">Arıza Tipi</label>
                <select class="form-control" id="fault_type" name="fault_type" required>
                    <option value="" disabled selected>Arıza tipi seçin</option>
                    {% for type in ['Hidrolik', 'Mekanik', 'Elektrik', 'Motor', 'Diğer'] %}
                        <option value="{{ type }}">{{ type }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="mb-3">
                <label for="part_codes" class="form-label">Parça Kodları (Virgülle ayrılmış)</label>
                <input type="text" class="form-control" id="part_codes" name="part_codes" placeholder="PC001,PC002">
            </div>
            <div class="mb-3">
                <label for="media_files" class="form-label">Fotoğraf veya Videolar</label>
                <input type="file" class="form-control" id="media_files" name="media_files" accept=".png,.jpg,.jpeg,.mp4,.mov" multiple>
                <small class="text-muted">Birden fazla dosya seçmek için CTRL tuşuna basılı tutarak seçim yapın</small>
            </div>
            <button type="submit" class="btn btn-danger">Çözümü Kaydet</button>
            <a href="{{ url_for('auth.dashboard') }}" class="btn btn-outline-danger ms-2">Geri Dön</a>
        </form>
    </div>
</div>
{% endblock %}